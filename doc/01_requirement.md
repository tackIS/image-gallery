# Image Gallery Manager - 要件定義

## 概要
Image Gallery Managerは、ローカルの画像・動画ファイルを管理するためのmacOSデスクトップアプリケーションです。

## 機能要件

### 1. メディアファイル管理
- ディレクトリを選択して画像・動画ファイルをスキャン
- サポートフォーマット：
  - **画像**: JPG, JPEG, PNG, GIF, WebP
  - **動画**: MP4
- グリッド表示で一覧表示
- ファイル情報の表示（ファイル名、種別）

### 2. メタデータ管理
- 各メディアファイルに対して以下のメタデータを管理：
  - コメント（テキスト）
  - タグ（複数設定可能）
  - 評価（1〜5の星）
- メタデータの編集・保存機能
- メタデータはSQLiteデータベースで永続化

### 3. メディア表示機能

#### 画像表示
- グリッド表示でサムネイル表示
- クリックで詳細モーダル表示
- 高品質な画像プレビュー
- 前へ/次へボタンでナビゲーション

#### 動画表示
- グリッド表示でサムネイル表示（最初のフレーム）
- 再生アイコンオーバーレイで動画であることを視覚的に表示
- クリックで詳細モーダル表示
- カスタム動画プレイヤー：
  - 再生/一時停止
  - シークバー
  - 音量コントロール
  - ミュート切り替え
  - フルスクリーン対応
  - 再生時間表示

### 4. エラーハンドリング
- メディアファイル読み込みエラーの適切な処理
- エラー時の視覚的フィードバック（アイコン + メッセージ）
- 削除されたファイルや破損したファイルへの対応

### 5. UI/UX
- レスポンシブなグリッドレイアウト
- 画像と動画の件数を個別に表示
- ローディング状態の表示
- 空状態の適切なメッセージ表示
- ホバー時のトランジション効果

## 非機能要件

### パフォーマンス
- 大量のメディアファイル（100枚以上）でもスムーズに動作
- 遅延読み込み（lazy loading）による効率的なリソース利用
- 動画のメタデータ読み込みの最適化（preload="metadata"）

### データ管理
- SQLiteによる軽量なデータベース
- データベースマイグレーション対応
- ファイルパスとメタデータの関連付け

### セキュリティ
- ファイルシステムアクセスはTauriのセキュリティモデルに準拠
- asset protocolによる安全なメディアファイルアクセス

## 技術スタック

### フロントエンド
- React 19.2.0
- TypeScript
- Tailwind CSS
- Zustand（状態管理）
- lucide-react（アイコン）

### バックエンド
- Tauri v2
- Rust
- SQLite（tauri-plugin-sql）

### ビルドツール
- Vite 7

## 今後の拡張可能性
- 他の動画フォーマット対応（MOV, AVI, MKVなど）
- ファイル種別によるフィルタリング機能
- 動画サムネイル生成機能
- タグによる検索・フィルタリング
- 評価によるソート機能
